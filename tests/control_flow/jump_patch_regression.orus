// Regression program to ensure patched jumps execute correctly
print("jump patch regression start")

mut count = 0
mut while_iterations = 0

if count == 0:
    count = count + 1
else:
    count = 100

while count < 4:
    while_iterations = while_iterations + 1
    if count == 2:
        count = count + 1
        continue
    if count == 3:
        break
    count = count + 1

for idx in 0..=3:
    if idx == 1:
        continue
    if idx == 2:
        break
    count = count + idx

print(count)
print("jump patch regression end")
if assert_eq("jump_patch_regression final_count", count, 3):
    print("ok", "count", count)
if assert_eq("jump_patch_regression while_iterations", while_iterations, 3):
    print("ok", "while_iterations", while_iterations)
